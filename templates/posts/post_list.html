{% extends 'base.html' %}

{% block title %}Blogly{% endblock %}

{% block content %}

<h1>Blogly Posts</h1>

<form class="d-flex" role="search" method="POST" action="{{url_for('search')}}">
    <input class="form-control me-2" type="search" placeholder="Search" name="searched" aria-label="Search">
    <button class="btn btn-outline-success" type="submit">Search</button>
</form>

{% for post in posts %}
<h2>
    <a href="/posts/{{ post.id }}">{{ post.title }}</a>
</h2>
<p>{{ post.content }}</p>
<p>
    <img src="{{ post.user.image_url }}" class="img-icon" height="50" width="50">
    <small>By {{ post.user.full_name }} on {{ post.friendly_date }}</small>
</p>

{% if post.tags %}
<p>
    <b>Tags:</b>
    {% for tag in post.tags %}
    <a href="/tags/{{ tag.id }}"><i class="badge badge-primary">{{ tag.name }}</i></a>
    {% endfor %}
</p>
{% endif %}
{% endfor %}

{% endblock %}}